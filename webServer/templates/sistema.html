{% extends 'base.html' %}

	{% block title %}
	
		Sistema
	
	{% endblock %}
	
	{% block styles %}
	
	<link rel="stylesheet" href="/static/css/sistema_ctrl.css">	
			
	{% endblock %}
				
	{% block content %}
	
	<div class="container">	
		<div class="row">
			<div class="col l6 s12">
				<div class="card white-text z-depth-0">
					<div class="card-content red lighten-2">
						<span class="card-title center"><b>Camera</b></span>
						<!--<img class="responsive-img" id="frame" src="/static/images/frame.jpg"/>-->
						<img class="responsive-img" id="frame" src="{{ url_for('videoStreaming') }}"/>
					</div>
					<div class="card-action">
						<form action="/sistema/" method="post"> 
							<div class="row">
								<div class="col s2 m3">
									<button name="direction" value="up" class="waves-effect waves-light btn-large red lighten-2"><i class="material-icons center">arrow_upward</i></button>
								</div>
								<div class="col s2 offset-s1 m3">
									<button name="direction" value="down" class="waves-effect waves-light btn-large red lighten-2"><i class="material-icons center">arrow_downward</i></button>
								</div>
								<div class="col s2 offset-s1 m3">
									<button name="direction" value="left" class="waves-effect waves-light btn-large red lighten-2"><i class="material-icons center">arrow_back</i></button>
								</div>
								<div class="col s2 offset-s1 m3">
									<button name="direction" value="right" class="waves-effect waves-light btn-large red lighten-2"><i class="material-icons center">arrow_forward</i></button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
			<div class="col l6 s12">
				<div class="row">
					<div class="col s12">
						<div class="card white-text">
							<div class="card-content red lighten-2">
								<span class="card-title center"><b>Fechadura</b></span>
							</div>
							<div class="card-action red lighten-2">
								<table class="centered white-text">
									<thead>
										<tr>
											<th>Item</th>
											<th>Status</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>Porta</td>
											<td><div class="switch"><label><i class="fa fa-square-o fa-2x"></i><input type="checkbox"><span class="lever"></span><i class="fa fa-square fa-2x"></i></label></div></td>
										</tr>
										<tr>
											<td>Fechadura</td>
											<td><div class="switch"><label><i class="material-icons center">lock_open</i><input type="checkbox" id="lock" name="lock"><span class="lever"></span><i class="material-icons center">lock_outline</i></label></div></td>

										</tr>
										<tr>
											<td>Alarme</td>
											<td><div class="switch"><label><i class="material-icons center">alarm_off</i><input type="checkbox"><span class="lever"></span><i class="material-icons center">alarm_on</i></label></div></td>
										</tr>
										<tr>
											<td>Bateria</td>
											<td><i class="material-icons center">battery_charging_full</i><td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
						<div class="col s12 center">
							<form action="/sistema/" method="post">
								<button class="waves-effect waves-light btn red lighten-3">Sair</button>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
		
	{% endblock %}
	
	{% block scripts %}
	
		<script>
		
			//function update2(){

				//$.getJSON("/getData/",function(data){ $('#result').text(data.status)});

			//};
		
			function update(){

				$.getJSON("/getData/",function(data){ 
					
					if (data.status) {
    
						$('#lock').prop('checked', true);
					
					} else { 
 
						$('#lock').prop('checked', false);
					}
					
				});
			};
		
			$(document).ready(function(){
				setInterval(update,500);
			});
	
		</script>
	
	{% endblock %}
